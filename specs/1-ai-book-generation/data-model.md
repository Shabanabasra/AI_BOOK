# Data Model: AI_BOOK-generation

## Entities

### Chapter
**Description**: A main section of the AI_BOOK textbook, covering a specific topic in Physical AI & Humanoid Robotics.
**Fields**:
- `id`: Unique identifier for the chapter (e.g., auto-generated slug or numerical ID).
- `title`: Display title of the chapter (e.g., "Introduction to Physical AI").
- `order`: Numerical order of the chapter within the book.
- `lessons`: List of Lesson entities contained within the chapter.
- `language`: Language of the chapter content (e.g., "en", "ur").
**Relationships**: Contains multiple `Lesson` entities. Directly related to `Book Content`.

### Lesson
**Description**: A single learning unit within a chapter, designed to be short, clean, and hands-on.
**Fields**:
- `id`: Unique identifier for the lesson.
- `chapter_id`: Reference to the parent Chapter.
- `title`: Display title of the lesson.
- `content`: Markdown/MDX content of the lesson, including Concept, Diagram / pseudo-image, Hands-on practice, Mini glossary, Short quiz, and Real-world example sections.
- `language`: Language of the lesson content.
**Relationships**: Belongs to a `Chapter`. Directly related to `Book Content`.

### Book Content
**Description**: The aggregate of all textual, visual, and interactive elements comprising the textbook. This is the source material for the RAG chatbot.
**Fields**:
- `id`: Unique identifier for a segment of book content (e.g., based on file path and content hash).
- `text`: Extracted plain text from markdown files, processed for embeddings.
- `source_chapter_id`: Reference to the originating Chapter.
- `source_lesson_id`: Reference to the originating Lesson.
- `embeddings`: Vector representation of the `text` content.
- `language`: Language of the content.
**Relationships**: Derived from `Chapter` and `Lesson` entities. Used by the `Chatbot Response` generation.
**Validation Rules**: Content must be clean, technically correct, and suitable for beginners.

### User Query
**Description**: Text input provided by the user to the RAG chatbot.
**Fields**:
- `id`: Unique identifier for the query.
- `text`: The actual question or statement from the user.
- `context_text`: Optional, selected text from the book that provides additional context for the query.
- `timestamp`: Time when the query was made.
**Relationships**: Initiates a `Chatbot Response`.

### Chatbot Response
**Description**: Output generated by the RAG chatbot in response to a `User Query`.
**Fields**:
- `id`: Unique identifier for the response.
- `query_id`: Reference to the originating `User Query`.
- `response_text`: The generated answer from the chatbot.
- `source_references`: List of `Book Content` IDs or segments used to generate the response.
- `timestamp`: Time when the response was generated.
**Relationships**: Responds to a `User Query`. Derived from `Book Content` embeddings.
**Validation Rules**: Must derive answers exclusively from `Book Content`. If unable to answer from provided content, must state so honestly.
